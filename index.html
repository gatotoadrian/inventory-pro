<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="InventoryPro - Manage your inventory with ease and efficiency">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InventoryPro</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://kit.fontawesome.com/a076d05399.js" async></script>
</head>
<body>
    <nav>
        <div class="logo">InventoryPro</div>
        <ul>
            <li><a href="#home" class="nav-link" data-page="home">Home</a></li>
            <li><a href="#inventory" class="nav-link" data-page="inventory">Inventory</a></li>
            <li><a href="#login" class="nav-link" data-page="login">Login</a></li>
            <li><a href="#signup" class="nav-link" data-page="signup">Sign Up</a></li>
        </ul>
    </nav>

    <main id="main-content">
        <!-- Content will be loaded here dynamically -->
    </main>

    <button id="cart-toggle" aria-label="Toggle cart">Cart <span id="cart-count">0</span></button>

    <div id="cart">
        <h2>Shopping Cart</h2>
        <div id="cart-items"></div>
        <p>Total: KSh<span id="cart-total">0</span></p>
        <button id="checkout">Checkout</button>
    </div>

    <footer>
        <p>&copy; 2024 InventoryPro. All rights reserved.</p>
    </footer>

    <script>
        // Page content
        const pages = {
            home: `
                <header class="hero">
                    <img src="https://via.placeholder.com/1200x400" alt="Hero Image" class="hero-image">
                    <h1>Welcome to InventoryPro</h1>
                    <p>Manage your inventory with ease and efficiency</p>
                    <a href="#inventory" class="cta-button nav-link" data-page="inventory">View Inventory</a>
                </header>
                <section class="features">
                    <div class="feature">
                        <img src="https://via.placeholder.com/150" alt="Easy Search">
                        <h2>Easy Search</h2>
                        <p>Find items quickly with our powerful search function</p>
                    </div>
                    <div class="feature">
                        <img src="https://via.placeholder.com/150" alt="Smart Sorting">
                        <h2>Smart Sorting</h2>
                        <p>Organize your inventory the way you want</p>
                    </div>
                    <div class="feature">
                        <img src="https://via.placeholder.com/150" alt="Cart System">
                        <h2>Cart System</h2>
                        <p>Effortlessly manage your selections</p>
                    </div>
                </section>
            `,
            inventory: `
                <div class="container">
                    <h1>Inventory Management</h1>
                    <div id="search-sort">
                        <input type="text" id="search" placeholder="Search items..." aria-label="Search items">
                        <select id="sort" aria-label="Sort items">
                            <option value="name">Sort by Name</option>
                            <option value="price">Sort by Price</option>
                            <option value="quantity">Sort by Quantity</option>
                        </select>
                    </div>
                    <div id="inventory"></div>
                </div>
            `,
            login: `
                <div class="container">
                    <form id="login-form" class="auth-form">
                        <h2>Login</h2>
                        <input type="email" id="login-email" placeholder="Email" required aria-label="Email">
                        <input type="password" id="login-password" placeholder="Password" required aria-label="Password">
                        <button type="submit">Login</button>
                        <p>Don't have an account? <a href="#signup" class="nav-link" data-page="signup">Sign up</a></p>
                    </form>
                </div>
            `,
            signup: `
                <div class="container">
                    <form id="signup-form" class="auth-form">
                        <h2>Sign Up</h2>
                        <input type="text" id="signup-name" placeholder="Full Name" required aria-label="Full Name">
                        <input type="email" id="signup-email" placeholder="Email" required aria-label="Email">
                        <input type="password" id="signup-password" placeholder="Password" required aria-label="Password">
                        <input type="password" id="signup-confirm-password" placeholder="Confirm Password" required aria-label="Confirm Password">
                        <button type="submit">Sign Up</button>
                        <p>Already have an account? <a href="#login" class="nav-link" data-page="login">Login</a></p>
                    </form>
                </div>
            `
        };

        // Function to load page content
        function loadPage(page) {
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = pages[page];
            mainContent.classList.add('fadeIn');
            setTimeout(() => mainContent.classList.remove('fadeIn'), 1000);

            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });

            // Initialize page-specific scripts
            if (page === 'inventory') {
                initInventory();
            } else if (page === 'login' || page === 'signup') {
                initAuth();
            }
        }

        // Event listeners for navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const page = e.target.getAttribute('data-page');
                loadPage(page);
                history.pushState(null, '', `#${page}`);
            });
        });

        // Handle back/forward browser buttons
        window.addEventListener('popstate', () => {
            const page = window.location.hash.substring(1) || 'home';
            loadPage(page);
        });

        // Initial page load
        document.addEventListener('DOMContentLoaded', () => {
            const initialPage = window.location.hash.substring(1) || 'home';
            loadPage(initialPage);
        });

        // Cart functionality
        const cartToggle = document.getElementById('cart-toggle');
        const cart = document.getElementById('cart');
        cartToggle.addEventListener('click', () => {
            cart.classList.toggle('active');
        });

        // Load other scripts
        function loadScript(url) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = url;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        // Load and initialize inventory script
        function initInventory() {
            loadScript('inventory.js')
                .then(() => {
                    if (typeof displayInventory === 'function') {
                        displayInventory(inventory);
                    }
                })
                .catch(error => console.error('Error loading inventory script:', error));
        }

        // Load and initialize auth script
        function initAuth() {
            loadScript('auth.js')
                .catch(error => console.error('Error loading auth script:', error));
        }
    </script>
</body>
</html>
